{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","redux/app-reducer.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","components/Friends/Friends.module.css","assets/images/preloader.gif","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js","utils/object-helpers.js","redux/users-reducer.js"],"names":["module","exports","Header","props","className","s","header","loginBlock","isAuth","login","onClick","logout","to","HeaderContainer","this","React","Component","connect","state","auth","Navbar","nav","item","activeClassName","active","INITIALIZED_SUCCESS","initialState","initialized","appReducer","action","type","DialogsContainer","lazy","ProfileContainer","UsersContainer","LoginPage","Music","News","Settings","App","initializeApp","Suspense","fallback","Preloader","path","component","compose","withRouter","app","dispatch","getAuthUserData","then","friends","name","avatar","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","SET_USER_DATA","usersId","email","setAuthUserData","userId","payload","a","authAPI","me","response","data","resultCode","id","password","rememberMe","message","messages","length","stopSubmit","_error","style","position","top","left","src","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","status","addPostActionCreator","newPostText","setStatus","getUserProfile","usersAPI","getProfile","getStatus","profileAPI","updateStatus","newPost","filter","p","postId","SEND_MESSAGE","dialogs","sendMessageCreator","newMessageBody","body","instance","axios","create","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","follow","post","unfollow","delete","put","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","followed"],"mappings":"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","file":"static/js/main.fabedc0f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2SEcC\",\"item\":\"Navbar_item__3tmF5\",\"active\":\"Navbar_active__3W1Xd\"};","import { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <p>22</p>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth \r\n        ? <div>{props.login} <button onClick={props.logout}>Log out</button></div> \r\n        : <NavLink to={'/login'}>Login</NavLink>\r\n        }\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\nimport Header from './Header';\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props}/>\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps,{logout})(HeaderContainer);","import { NavLink } from 'react-router-dom';\r\nimport Friends from '../Friends/Friends';\r\nimport s from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/profile\" activeClassName={s.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>\r\n          Message\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/users\" activeClassName={s.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/music\" activeClassName={s.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/settings\" activeClassName={s.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n\r\n      {/* <Friends friend={props.state.friends}/> */}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\nimport { getAuthUserData } from \"./auth-reducer\"\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\nconst initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state  \r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  const promise = dispatch(getAuthUserData())\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\n\r\nexport default appReducer","import React, { Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { Route } from 'react-router';\nimport { Switch, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport './App.css';\nimport Preloader from './components/common/Preloader/Preloader';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport { initializeApp } from './redux/app-reducer';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst LoginPage = React.lazy(() => import('./components/Login/Login'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst News = React.lazy(() => import('./components/News/News'));\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <div className={'preloaderOverlay'}><Preloader/></div>\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n            <React.Suspense fallback={<Preloader/>}>\n              <Switch>\n                <Route path=\"/profile/:userId?\" component={ProfileContainer} />\n                <Route path=\"/dialogs\" component={DialogsContainer} />\n                <Route path=\"/users\" component={UsersContainer} />\n                <Route path=\"/login\" component={LoginPage} />\n                <Route path=\"/news\" component={News} />\n                <Route path=\"/music\" component={Music} />\n                <Route path=\"/settings\" component={Settings} />\n              </Switch>\n            </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp})\n)(App)\n","const initialState = {\r\n  friends: [\r\n    {name: 'Alex', avatar: 'https://www.meme-arsenal.com/memes/62a900971fa27e84607390ba249efd0c.jpg'},\r\n    {name: 'Olga', avatar: 'https://cdn140.picsart.com/330959057057201.jpg?type=webp&to=min&r=640'},\r\n    {name: 'Ivan', avatar: 'http://hypeava.ru/uploads/posts/2018-03/1522402524_2.jpg'},\r\n  ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n  return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport authReducer from './auth-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport profileReducer from './profile-reducer'\r\nimport sidebarReducer from './sidebar-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer'\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>,\n  // </React.StrictMode>,\n  document.getElementById('root'),\n);","import { stopSubmit } from \"redux-form\"\r\nimport { authAPI } from \"../api/api\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\n\r\nconst initialState = {\r\n  usersId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    default:\r\n      return state  \r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n      const {id, email, login} = response.data.data\r\n      dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n    dispatch(stopSubmit('login', {_error: message}))\r\n  }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null, null, null, false))\r\n    } \r\n}\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__1b3EI\",\"friendImg\":\"Friends_friendImg__j8oun\",\"friendName\":\"Friends_friendName__2limM\"};","export default __webpack_public_path__ + \"static/media/preloader.5ee60997.gif\";","import preloader from '../../../assets/images/preloader.gif'\r\n\r\nconst Preloader = (props) => {\r\n  return (\r\n    <div>\r\n      <img style={{position: 'absolute', top: '38%', left: '50%'}} src={preloader}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1TQbT\",\"loginBlock\":\"Header_loginBlock___cLTU\"};","import { profileAPI, usersAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, how are you?', likesCount: 11 },\r\n    { id: 2, message: \"It's my first post\", likesCount: 22 },\r\n    { id: 3, message: 'Bla bla bla', likesCount: 1 },\r\n    { id: 4, message: 'Dadada', likesCount: -3 },\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.postId !== action.postId)\r\n      }\r\n    default:\r\n      return state  \r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer","const SEND_MESSAGE = 'SEND_MESSAGE' \r\n\r\nconst initialState = {\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'How is your it-kamasutra?' },\r\n    { id: 3, message: 'Yo' },\r\n    { id: 4, message: 'Yo!' },\r\n    { id: 5, message: 'Yo!!!' },\r\n  ],\r\n  dialogs: [\r\n    { id: 1, name: 'Dima' },\r\n    { id: 2, name: 'Andrey' },\r\n    { id: 3, name: 'Sveta' },\r\n    { id: 4, name: 'Sasha' },\r\n    { id: 5, name: 'Viktor' },\r\n    { id: 6, name: 'Valera' },\r\n  ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, {id: 6, message: body}]\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n\r\nexport default dialogsReducer","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '702ee640-dd3a-4da6-b3e7-8fb326d031ef'\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance.get(`users/?page=${currentPage}&count=${pageSize}`)\r\n      .then(response => response.data)\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`)\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`)\r\n  },\r\n\r\n  getProfile(userId) {\r\n    return profileAPI.getProfile(userId)\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {\r\n      status: status\r\n    })\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, {email, password, rememberMe})\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`)\r\n  },\r\n}\r\n\r\n// export const getUsers2 = (currentPage = 1, pageSize = 10) => {\r\n//   return instance.get(`${baseUrl}users/?page=${currentPage}&count=${pageSize}`)\r\n//     .then(response => response.data)\r\n// }","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u\r\n  })\r\n}","import { usersAPI } from \"../api/api\"\r\nimport { updateObjectInArray } from \"../utils/object-helpers\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      }\r\n    case SET_USERS:\r\n      return {...state, users: action.users}\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.currentPage}\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {...state, totalUsersCount: action.totalUsersCount}\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching \r\n        ? [...state.followingInProgress, action.userId] \r\n        : state.followingInProgress.filter(id => id != action.userId)\r\n      }\r\n    default:\r\n      return state  \r\n  }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setUsers = (users) => ({type: SET_USERS, users})\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n\r\n    const data = await usersAPI.getUsers(page, pageSize)\r\n      dispatch(toggleIsFetching(false))\r\n      dispatch(setUsers(data.items))\r\n      dispatch(setTotalUsersCount(data.totalCount))\r\n  }\r\n} \r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId))\r\n  const response = await apiMethod(userId)\r\n\r\n  if (response.data.resultCode == 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n  }\r\n} \r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n  }\r\n} \r\n\r\n\r\nexport default usersReducer"],"sourceRoot":""}