(this["webpackJsonpreact-kam-1"]=this["webpackJsonpreact-kam-1"]||[]).push([[1],{10:function(e,t,n){e.exports={nav:"Navbar_nav__2SEcC",item:"Navbar_item__3tmF5",active:"Navbar_active__3W1Xd"}},136:function(e,t,n){},140:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(46),s=n.n(c),i=(n(136),n(35)),u=n(36),o=n(38),l=n(37),d=n(23),f=n(5),p=n(22),b=(n(140),n(53)),j=n(3),h=n(26),O=n(15),m=n(54),g=n.n(m),v=n(2),x=function(e){return Object(v.jsxs)("header",{className:g.a.header,children:[Object(v.jsx)("p",{children:"22"}),Object(v.jsx)("div",{className:g.a.loginBlock,children:e.isAuth?Object(v.jsxs)("div",{children:[e.login," ",Object(v.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(v.jsx)(O.b,{to:"/login",children:"Login"})})]})},w=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(v.jsx)(x,Object(j.a)({},this.props))}}]),n}(a.a.Component),y=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:h.d})(w),_=(n(32),n(10)),S=n.n(_),E=function(e){return Object(v.jsxs)("nav",{className:S.a.nav,children:[Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/profile",activeClassName:S.a.active,children:"Profile"})}),Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/dialogs",activeClassName:S.a.active,children:"Message"})}),Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/users",activeClassName:S.a.active,children:"Users"})}),Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/news",activeClassName:S.a.active,children:"News"})}),Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/music",activeClassName:S.a.active,children:"Music"})}),Object(v.jsx)("div",{className:S.a.item,children:Object(v.jsx)(O.b,{to:"/settings",activeClassName:S.a.active,children:"Settings"})})]})},I=(n(8),"INITIALIZED_SUCCESS"),N={initialized:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},k=a.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,303))})),P=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,302))})),T=a.a.lazy((function(){return n.e(5).then(n.bind(null,304))})),U=a.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,298))})),A=a.a.lazy((function(){return n.e(8).then(n.bind(null,299))})),L=a.a.lazy((function(){return n.e(9).then(n.bind(null,300))})),z=a.a.lazy((function(){return n.e(10).then(n.bind(null,301))})),F=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(v.jsxs)("div",{className:"app-wrapper",children:[Object(v.jsx)(y,{}),Object(v.jsx)(E,{}),Object(v.jsx)("div",{className:"app-wrapper-content",children:Object(v.jsx)(a.a.Suspense,{fallback:Object(v.jsx)(b.a,{}),children:Object(v.jsxs)(f.d,{children:[Object(v.jsx)(f.b,{path:"/profile/:userId?",component:P}),Object(v.jsx)(f.b,{path:"/dialogs",component:k}),Object(v.jsx)(f.b,{path:"/users",component:T}),Object(v.jsx)(f.b,{path:"/login",component:U}),Object(v.jsx)(f.b,{path:"/news",component:L}),Object(v.jsx)(f.b,{path:"/music",component:A}),Object(v.jsx)(f.b,{path:"/settings",component:z})]})})})]}):Object(v.jsx)("div",{className:"preloaderOverlay",children:Object(v.jsx)(b.a,{})})}}]),n}(a.a.Component),D=Object(p.d)(f.g,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(Object(h.b)()).then((function(){e({type:I})}))}}}))(F),R=n(74),G=n(60),M={friends:[{name:"Alex",avatar:"https://www.meme-arsenal.com/memes/62a900971fa27e84607390ba249efd0c.jpg"},{name:"Olga",avatar:"https://cdn140.picsart.com/330959057057201.jpg?type=webp&to=min&r=640"},{name:"Ivan",avatar:"http://hypeava.ru/uploads/posts/2018-03/1522402524_2.jpg"}]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return e},H=n(81),W=n(83),Y=n(80),V=Object(p.c)({profilePage:G.b,dialogsPage:R.a,sidebar:B,usersPage:H.a,auth:h.a,form:Y.a,app:C}),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,J=Object(p.e)(V,X(Object(p.a)(W.a)));window.store=J;var K=J;s.a.render(Object(v.jsx)(O.a,{children:Object(v.jsx)(d.a,{store:K,children:Object(v.jsx)(D,{})})}),document.getElementById("root"))},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b}));var r=n(7),a=n.n(r),c=n(12),s=n(3),i=n(34),u=n(8),o="SET_USER_DATA",l={usersId:null,email:null,login:null,isAuth:!1},d=function(e,t,n,r){return{type:o,payload:{userId:e,email:t,login:n,isAuth:r}}},f=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,s=r.email,i=r.login,t(d(c,s,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){var s,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.login(e,t,n);case 2:0===(s=r.sent).data.resultCode?c(f()):(o=s.data.messages.length>0?s.data.messages[0]:"Some error",c(Object(i.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},32:function(e,t,n){e.exports={friends:"Friends_friends__1b3EI",friendImg:"Friends_friendImg__j8oun",friendName:"Friends_friendName__2limM"}},53:function(e,t,n){"use strict";var r=n.p+"static/media/preloader.5ee60997.gif",a=n(2);t.a=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{style:{position:"absolute",top:"38%",left:"50%"},src:r})})}},54:function(e,t,n){e.exports={header:"Header_header__1TQbT",loginBlock:"Header_loginBlock___cLTU"}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return m}));var r=n(7),a=n.n(r),c=n(12),s=n(27),i=n(3),u=n(8),o="ADD-POST",l="SET_USER_PROFILE",d="SET_STATUS",f="DELETE_POST",p={posts:[{id:1,message:"Hi, how are you?",likesCount:11},{id:2,message:"It's my first post",likesCount:22},{id:3,message:"Bla bla bla",likesCount:1},{id:4,message:"Dadada",likesCount:-3}],profile:null,status:""},b=function(e){return{type:o,newPostText:e}},j=function(e){return{type:d,status:e}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(j(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(j(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:5,message:t.newPostText,likesCount:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n]),newPostText:""});case l:return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case d:return Object(i.a)(Object(i.a)({},e),{},{status:t.status});case f:return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.postId!==t.postId}))});default:return e}}},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(27),a=n(3),c="SEND_MESSAGE",s={messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo!"},{id:5,message:"Yo!!!"}],dialogs:[{id:1,name:"Dima"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}]},i=function(e){return{type:c,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(82),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"702ee640-dd3a-4da6-b3e7-8fb326d031ef"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users/?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return s.getProfile(e)}},s={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status",{status:e})}},i={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}}},81:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return E}));var r=n(7),a=n.n(r),c=n(12),s=n(27),i=n(3),u=n(8),o=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(i.a)(Object(i.a)({},e),r):e}))},l="FOLLOW",d="UNFOLLOW",f="SET_USERS",p="SET_CURRENT_PAGE",b="SET_TOTAL_USERS_COUNT",j="TOGGLE_IS_FETCHING",h="TOGGLE_IS_FOLLOWING_PROGRESS",O={users:[],pageSize:20,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},m=function(e){return{type:l,userId:e}},g=function(e){return{type:d,userId:e}},v=function(e){return{type:p,currentPage:e}},x=function(e){return{type:j,isFetching:e}},w=function(e,t){return{type:h,isFetching:e,userId:t}},y=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(x(!0)),r(v(e)),n.next=4,u.c.getUsers(e,t);case 4:c=n.sent,r(x(!1)),r((s=c.items,{type:f,users:s})),r((a=c.totalCount,{type:b,totalUsersCount:a}));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},_=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w(!0,n)),e.next=3,r(n);case 3:0==e.sent.data.resultCode&&t(c(n)),t(w(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,u.c.follow.bind(u.c),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(n,e,u.c.unfollow.bind(u.c),g);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(i.a)(Object(i.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!0})});case d:return Object(i.a)(Object(i.a)({},e),{},{users:o(e.users,t.userId,"id",{followed:!1})});case f:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case p:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case b:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case j:return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case h:return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(s.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}}}},[[222,2,3]]]);
//# sourceMappingURL=main.fabedc0f.chunk.js.map